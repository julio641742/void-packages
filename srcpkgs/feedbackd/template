# Template file for 'feedbackd'
pkgname=feedbackd
version=0.0.0+git20200707
revision=1
wrksrc=$pkgname-v$version
build_style=meson
configure_args="-Dtests=false -Dvapi=false -Dintrospection=disabled"
hostmakedepends="glib-devel pkg-config"
makedepends="gsound-devel libgudev-devel json-glib-devel"
depends="dbus"
short_desc="Daemon to provide haptic feedback on events"
maintainer="Julio Galvan <julio-void@epazote.net>"
license="GPL-3.0-or-later"
homepage="https://source.puri.sm/Librem5/feedbackd"
distfiles="https://source.puri.sm/Librem5/feedbackd/-/archive/v$version/feedbackd-v$version.tar.gz"
checksum=37cf48cbdbaee8e2d0bea406f5b6317bf0e3cdf79250f9ce0a884e7d3905a8ea

feedbackd-devel_package() {
	depends="${sourcepkg}>=${version}_${revision} ${_devel_depends}"
	short_desc+=" - development files"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/pkgconfig
		vmove "usr/lib/*.so"
	}
}
