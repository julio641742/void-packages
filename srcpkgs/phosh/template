# Template file for 'phosh'
pkgname=phosh
version=0.4.4
revision=1
build_style=meson
hostmakedepends="phoc glib-devel gettext pkg-config wayland-devel"
makedepends="libfeedback-devel gcr-devel gnome-desktop-devel pam-devel
 polkit-devel pulseaudio-devel libsecret-devel libhandy1-devel
 NetworkManager-devel upower-devel"
depends="phoc squeekboard gnome-session gnome-settings-daemon elogind
 xorg-server-xwayland cantarell-fonts font-adobe-source-code-pro"
short_desc="Shell PoC for the Librem5"
maintainer="Julio Galvan <julio-void@epazote.net>"
license="GPL-3.0-or-later"
homepage="https://source.puri.sm/Librem5/phosh"
distfiles="https://repo.pureos.net/pureos/pool/main/p/phosh/phosh_$version.tar.xz"
checksum=1b1161e23b22496027d7c93d75b1be54918402007c4128a1efb8adb3690f437d

post_install() {
	vcopy ${FILESDIR}/sm.puri.OSK0.desktop usr/share/applications
	vcopy ${FILESDIR}/phosh.desktop usr/share/wayland-sessions
}
